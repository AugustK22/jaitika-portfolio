/*! For license information please see 928.08becd30.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkjaitika_portfolio=self.webpackChunkjaitika_portfolio||[]).push([[928],{1151:()=>{},1360:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2382:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5469:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5711:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},5727:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6797:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]])},8928:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>U});var i=s(2555),n=s(5043),o=s(9989),r=s(5469),l=s(2382),c=s(5711),h=s(5727),d=s(9493),u=s(1360),p=s(9292),m=s(6797),y=s(9855),x=(s(1151),s(9001)),g=(s(9555),s(9397)),j=s(579);const M=600,C=320,E=120,z=900;function _(e,t,s){const a=e.createLinearGradient(0,0,0,s);a.addColorStop(0,"#0a0e1a"),a.addColorStop(.3,"#131824"),a.addColorStop(.6,"#1a1f2e"),a.addColorStop(1,"#0d1117"),e.fillStyle=a,e.fillRect(0,0,t,s)}function T(e,t,s){[{x:.3*t,y:.25*s,size:.4*t,intensity:.025},{x:.5*t,y:.35*s,size:.5*t,intensity:.035},{x:.6*t,y:.45*s,size:.35*t,intensity:.028},{x:.4*t,y:.5*s,size:.3*t,intensity:.02},{x:.7*t,y:.3*s,size:.25*t,intensity:.022},{x:.35*t,y:.4*s,size:.28*t,intensity:.018}].forEach(a=>{const i=e.createRadialGradient(a.x,a.y,0,a.x,a.y,a.size);i.addColorStop(0,"rgba(220, 210, 190, ".concat(a.intensity,")")),i.addColorStop(.3,"rgba(180, 170, 160, ".concat(.7*a.intensity,")")),i.addColorStop(.6,"rgba(130, 140, 150, ".concat(.4*a.intensity,")")),i.addColorStop(1,"rgba(80, 90, 100, 0)"),e.fillStyle=i,e.fillRect(0,0,t,s)});[{x:.25*t,y:.35*s,w:.15*t,h:.2*s},{x:.55*t,y:.4*s,w:.2*t,h:.15*s},{x:.45*t,y:.28*s,w:.12*t,h:.18*s},{x:.65*t,y:.38*s,w:.18*t,h:.12*s}].forEach(a=>{const i=e.createRadialGradient(a.x,a.y,0,a.x,a.y,Math.max(a.w,a.h));i.addColorStop(0,"rgba(150, 145, 140, 0.015)"),i.addColorStop(.5,"rgba(120, 125, 135, 0.01)"),i.addColorStop(1,"rgba(100, 105, 120, 0)"),e.fillStyle=i,e.fillRect(0,0,t,s)})}class D{constructor(e,t){this.layer=e,this.state=t,this.assignAppearance(),this.resetPosition()}assignAppearance(){const e=Math.random();e>.97?(this.size=.6+.8*Math.random(),this.brightness=.4+.25*Math.random(),this.type="bright"):e>.85?(this.size=.4+.5*Math.random(),this.brightness=.25+.2*Math.random(),this.type="medium"):(this.size=.2+.3*Math.random(),this.brightness=.15+.2*Math.random(),this.type="dim");const t=Math.random();this.color=t>.9?{r:200,g:215,b:235}:t>.1?{r:235,g:235,b:240}:{r:240,g:230,b:215},this.baseSpeed="bg"===this.layer?.008:"mid"===this.layer?.015:.022,this.shouldTwinkle=Math.random()>.8,this.twinkleSpeed=.15+.2*Math.random(),this.twinkleOffset=Math.random()*Math.PI*2,this.twinkleAmount=.08}resetPosition(){const{width:e,height:t}=this.state;this.x=Math.random()*e*1.2-.1*e,this.y=Math.random()*t}update(){this.x+=this.baseSpeed,this.x>this.state.width+20&&(this.x=-20,this.y=Math.random()*this.state.height)}draw(e,t){let s=this.brightness;if(this.shouldTwinkle){const e=Math.sin(t*this.twinkleSpeed+this.twinkleOffset);s=this.brightness*(1-this.twinkleAmount+e*this.twinkleAmount)}if("bright"===this.type&&this.size>.9){const t=2.5*this.size,a=e.createRadialGradient(this.x,this.y,0,this.x,this.y,t);a.addColorStop(0,"rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(.3*s,")")),a.addColorStop(.5,"rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(.1*s,")")),a.addColorStop(1,"rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", 0)")),e.fillStyle=a,e.beginPath(),e.arc(this.x,this.y,t,0,2*Math.PI),e.fill()}e.fillStyle="rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(s,")"),e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fill()}clampToBounds(){const{width:e,height:t}=this.state;this.y>t&&(this.y=Math.random()*t),this.x>e+20&&(this.x=Math.random()*e)}}class F{constructor(e){this.state=e,this.size=.8*Math.random(),this.opacity=.03*Math.random()+.01,this.speed=.003+.007*Math.random();const t=Math.random();this.color=t>.7?{r:170,g:160,b:145}:t>.4?{r:140,g:145,b:155}:{r:130,g:135,b:145},this.resetPosition()}resetPosition(){const{width:e,height:t}=this.state;this.x=Math.random()*e*1.2-.1*e,this.y=.2*t+Math.random()*t*.6}update(){this.x+=this.speed,this.x>this.state.width+5&&(this.x=-5)}draw(e){e.fillStyle="rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(this.opacity,")"),e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fill()}clampToBounds(){const{width:e,height:t}=this.state;this.y>t&&(this.y=.2*t+Math.random()*t*.6),this.x>e+5&&(this.x=Math.random()*e)}}function I(){const e=(0,n.useRef)(null),t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{const s=e.current;if(!s)return;const a=s.getContext("2d");if(!a)return;const i={width:0,height:0},n=()=>{i.width=window.innerWidth,i.height=window.innerHeight,s.width=i.width,s.height=i.height};n();const o=Array.from({length:M},()=>new D("bg",i)),r=Array.from({length:C},()=>new D("mid",i)),l=Array.from({length:E},()=>new D("fg",i)),c=Array.from({length:z},()=>new F(i));let h=0;const d=()=>{h+=.005,a.clearRect(0,0,i.width,i.height),_(a,i.width,i.height),T(a,i.width,i.height),c.forEach(e=>{e.update(),e.draw(a)}),o.forEach(e=>{e.update(),e.draw(a,h)}),r.forEach(e=>{e.update(),e.draw(a,h)}),l.forEach(e=>{e.update(),e.draw(a,h)}),t.current=requestAnimationFrame(d)};t.current=requestAnimationFrame(d);const u=()=>{n(),[...o,...r,...l].forEach(e=>{e.clampToBounds()}),c.forEach(e=>{e.clampToBounds()})};return window.addEventListener("resize",u),()=>{t.current&&(cancelAnimationFrame(t.current),t.current=null),window.removeEventListener("resize",u)}},[]),(0,j.jsx)("div",{className:"starry-background","aria-hidden":"true",children:(0,j.jsx)("canvas",{ref:e,id:"stars",className:"starry-canvas"})})}let P,L,q,R,G,H,W;try{({initializeApp:P}=await Promise.all([s.e(232),s.e(64)]).then(s.bind(s,7064))),({getDatabase:L,ref:q,set:R,get:G,remove:H,onValue:W}=await Promise.all([s.e(232),s.e(800)]).then(s.bind(s,5800)))}catch(A){var b,v,f,w,k,N;P=null===(b=window)||void 0===b||null===(v=b.firebase)||void 0===v?void 0:v.initializeApp,L=null===(f=window)||void 0===f||null===(w=f.firebaseDatabase)||void 0===w?void 0:w.getDatabase,({ref:q,set:R,get:G,remove:H,onValue:W}=null!==(k=null===(N=window)||void 0===N?void 0:N.firebaseDatabase)&&void 0!==k?k:{})}const B={apiKey:"AIzaSyC8lRd_rq5WWly4nE1-fVWNmDHWW9UVgx8",authDomain:"js-castle.firebaseapp.com",databaseURL:"https://js-castle-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"js-castle",storageBucket:"js-castle.firebasestorage.app",messagingSenderId:"270553123263",appId:"1:270553123263:web:7c16052915360a21a6f90a",measurementId:"G-TCGW4B73F5"};let O,V;try{if(!P)throw new Error("Firebase SDK not found");O=P(B),V=L(O)}catch(S){console.error("Firebase init error:",S)}function U(){const[e,t]=(0,n.useState)(!0),[s,a]=(0,n.useState)(!V),[b,v]=(0,n.useState)(!1),[f,w]=(0,n.useState)(""),[k,N]=(0,n.useState)(""),[A,M]=(0,n.useState)(null),[C,E]=(0,n.useState)([]),[z,_]=(0,n.useState)({}),[T,D]=(0,n.useState)(!1),[F,P]=(0,n.useState)(null),[L,B]=(0,n.useState)({title:"",subtitle:"",content:"",type:"memory-post"}),[O,U]=(0,n.useState)(""),[J,K]=(0,n.useState)("newest"),[Z,Y]=(0,n.useState)("all");(0,n.useEffect)(()=>{if(!V)return a(!0),void t(!1);"true"===sessionStorage.getItem("blogAuthenticated")?(v(!0),X()):Q()},[]);const Q=async()=>{try{const e=q(V,"settings/passkey"),s=await G(e);M(s.exists()),t(!1)}catch(S){console.error("Error checking key:",S),t(!1)}},X=()=>{const e=q(V,"entries");W(e,e=>{if(!e.exists())return E([]),void t(!1);const s=e.val(),a=Object.entries(s).map(e=>{let[t,s]=e;return(0,i.A)({id:t},s)}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));E(a),t(!1)},()=>{E([]),t(!1)})},$=async()=>{if(N(""),V)if(f.trim())try{const e=q(V,"settings/passkey"),t=await G(e);if(t.exists()){const e=t.val();f===e?(v(!0),sessionStorage.setItem("blogAuthenticated","true"),X()):N("Invalid passkey. Try again.")}else await R(e,f),v(!0),sessionStorage.setItem("blogAuthenticated","true"),X()}catch(S){console.error("Auth error:",S),N("Authentication failed. Try again.")}else N("Please enter a passkey.");else N("Firebase not configured.")},ee=e=>{const t=e.split("\n").slice(0,4).join("\n");return t.length<e.length?"".concat(t,"\u2026"):t},te=(0,n.useMemo)(()=>{let e=[...C];if(O.trim()){const t=O.toLowerCase();e=e.filter(e=>{var s;return e.title.toLowerCase().includes(t)||(null===(s=e.subtitle)||void 0===s?void 0:s.toLowerCase().includes(t))||e.content.toLowerCase().includes(t)})}switch("all"!==Z&&(e=e.filter(e=>e.type===Z)),J){case"newest":e.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));break;case"oldest":e.sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp));break;case"title":e.sort((e,t)=>e.title.localeCompare(t.title))}return e},[C,O,J,Z]),se=(0,x.Zp)(),ae=()=>window.history.length>1?se(-1):se("/");return s?(0,j.jsxs)("main",{className:"journal-page",children:[(0,j.jsx)(I,{}),(0,j.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,j.jsx)(r.A,{size:20})}),(0,j.jsx)("div",{className:"container center",children:(0,j.jsxs)("div",{className:"notice",children:[(0,j.jsx)("h2",{children:"Firebase Not Configured"}),(0,j.jsx)("p",{children:"Install the SDK and configure your environment variables."})]})})]}):e?(0,j.jsxs)("main",{className:"journal-page",children:[(0,j.jsx)(I,{}),(0,j.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,j.jsx)(r.A,{size:20})})]}):b?(0,j.jsxs)("main",{className:"journal-page",children:[(0,j.jsx)(I,{}),(0,j.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,j.jsx)(r.A,{size:20})}),(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"topbar",children:[(0,j.jsx)("div",{className:"brand",children:"LNT"}),(0,j.jsxs)("div",{className:"topbar-actions",children:[(0,j.jsx)("button",{className:"btn ghost",onClick:()=>se("/"),title:"Back to Home",children:"\u2190 Home"}),(0,j.jsxs)("button",{className:"logout",onClick:()=>{v(!1),sessionStorage.removeItem("blogAuthenticated"),w("")},title:"Logout",children:[(0,j.jsx)(d.A,{}),(0,j.jsx)("span",{children:"Logout"})]})]})]}),(0,j.jsxs)("header",{className:"hero",children:[(0,j.jsx)("h1",{children:"Late Night Thoughts"}),(0,j.jsx)("p",{className:"tagline",children:"where vulnerability lives and hearts speak"}),(0,j.jsx)("p",{className:"lede",children:"This is where I write at 2 AM when the world is quiet and my heart is too loud. Unfiltered pieces of me, the breakdowns, the breakthroughs, the tiny pivots that change everything."})]}),(0,j.jsx)("div",{className:"composer-wrap",children:(0,j.jsxs)("div",{className:"card composer",children:[(0,j.jsxs)("button",{className:"btn primary new-btn",onClick:()=>{D(e=>!e),T&&(P(null),B({title:"",subtitle:"",content:"",type:"memory-post"}),N(""))},children:[(0,j.jsx)(u.A,{}),(0,j.jsx)("span",{children:T?"Cancel Entry":"Create a New Entry"})]}),T&&(0,j.jsxs)("div",{className:"form-content",children:[(0,j.jsx)("h3",{children:F?"Edit Entry":"New Entry Details"}),(0,j.jsx)("input",{className:"input title-input",placeholder:"Entry Title",value:L.title,onChange:e=>B((0,i.A)((0,i.A)({},L),{},{title:e.target.value}))}),(0,j.jsx)("input",{className:"input",placeholder:"Subtitle (optional)",value:L.subtitle,onChange:e=>B((0,i.A)((0,i.A)({},L),{},{subtitle:e.target.value}))}),(0,j.jsxs)("select",{className:"input",value:L.type,onChange:e=>B((0,i.A)((0,i.A)({},L),{},{type:e.target.value})),children:[(0,j.jsx)("option",{value:"memory-post",children:"Memory (Pink)"}),(0,j.jsx)("option",{value:"philosophy-post",children:"Philosophy (Teal)"}),(0,j.jsx)("option",{value:"freedom-post",children:"Freedom (Gold)"})]}),(0,j.jsx)("textarea",{className:"input area",rows:12,placeholder:"Write your thoughts\u2026",value:L.content,onChange:e=>B((0,i.A)((0,i.A)({},L),{},{content:e.target.value}))}),k&&(0,j.jsx)("p",{className:"error",children:k}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("button",{className:"btn primary",onClick:async()=>{if(L.title&&L.content)if(V)try{const e=(null===F||void 0===F?void 0:F.id)||Date.now().toString(),t={title:L.title,subtitle:L.subtitle,content:L.content,type:L.type,timestamp:(null===F||void 0===F?void 0:F.timestamp)||(new Date).toISOString(),updatedAt:(new Date).toISOString()};await R(q(V,"entries/".concat(e)),t),B({title:"",subtitle:"",content:"",type:"memory-post"}),P(null),D(!1),N("")}catch(S){console.error("Save error:",S),N("Failed to save entry.")}else N("Firebase not configured.");else N("Title and content are required.")},children:F?"Update Entry":"Publish Entry"})})]})]})}),(0,j.jsx)("div",{className:"controls-wrap",children:(0,j.jsxs)("div",{className:"card controls",children:[(0,j.jsxs)("div",{className:"search-box",children:[(0,j.jsx)(p.A,{className:"search-icon"}),(0,j.jsx)("input",{type:"text",className:"input search-input",placeholder:"Search entries by title, subtitle, or content...",value:O,onChange:e=>U(e.target.value)})]}),(0,j.jsxs)("div",{className:"filters-row",children:[(0,j.jsxs)("div",{className:"filter-group",children:[(0,j.jsx)(m.A,{className:"filter-icon"}),(0,j.jsxs)("select",{className:"input select-input",value:J,onChange:e=>K(e.target.value),children:[(0,j.jsx)("option",{value:"newest",children:"Sort: Newest First"}),(0,j.jsx)("option",{value:"oldest",children:"Sort: Oldest First"}),(0,j.jsx)("option",{value:"title",children:"Sort: By Title (A-Z)"})]})]}),(0,j.jsx)("div",{className:"filter-group",children:(0,j.jsxs)("select",{className:"input select-input",value:Z,onChange:e=>Y(e.target.value),children:[(0,j.jsx)("option",{value:"all",children:"Filter: All Emotions"}),(0,j.jsx)("option",{value:"memory-post",children:"Filter: Memories"}),(0,j.jsx)("option",{value:"philosophy-post",children:"Filter: Philosophy"}),(0,j.jsx)("option",{value:"freedom-post",children:"Filter: Freedom"})]})})]}),(O||"all"!==Z)&&(0,j.jsxs)("div",{className:"results-count",children:["Showing ",te.length," of ",C.length," entries"]})]})}),(0,j.jsx)("div",{className:"stack",children:0===te.length?(0,j.jsx)("div",{className:"empty",children:O||"all"!==Z?"No entries match your search or filter criteria...":"No entries yet. Start writing your thoughts\u2026"}):te.map(e=>{const t=!!z[e.id],s="memory-post"===e.type?"accent-pink":"philosophy-post"===e.type?"accent-teal":"accent-gold";return(0,j.jsxs)("article",{className:"card entry ".concat(s),children:[(0,j.jsxs)("div",{className:"entry-head",children:[(0,j.jsxs)("div",{className:"entry-titles",children:[(0,j.jsx)("h2",{children:e.title}),e.subtitle&&(0,j.jsxs)("p",{className:"muted",children:[(0,j.jsx)("span",{"aria-hidden":!0,children:"\ud83c\udf19"})," ",e.subtitle]})]}),(0,j.jsxs)("div",{className:"entry-actions",children:[(0,j.jsx)("button",{className:"icon-btn",title:"Edit",onClick:()=>(e=>{P(e),B({title:e.title,subtitle:e.subtitle,content:e.content,type:e.type}),D(!0),window.scrollTo({top:0,behavior:"smooth"})})(e),children:(0,j.jsx)(o.A,{})}),(0,j.jsx)("button",{className:"icon-btn",title:"Delete",onClick:()=>(async e=>{if(window.confirm("Delete this entry?"))if(V)try{await H(q(V,"entries/".concat(e)))}catch(S){console.error("Delete error:",S),N("Failed to delete entry.")}else N("Firebase not configured.")})(e.id),children:(0,j.jsx)(y.A,{})})]})]}),(0,j.jsx)("div",{className:"entry-body ".concat(t?"open":""),children:(0,j.jsx)("pre",{className:"content",children:t?e.content:ee(e.content)})}),t&&(0,j.jsx)(g.A,{entryId:e.id,entryContent:e.content}),(0,j.jsx)("button",{className:"readmore",onClick:()=>{return t=e.id,_(e=>(0,i.A)((0,i.A)({},e),{},{[t]:!e[t]}));var t},children:t?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.A,{})," Collapse"]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.A,{})," Read More"]})})]},e.id)})})]})]}):(0,j.jsxs)("main",{className:"journal-page",children:[(0,j.jsx)(I,{}),(0,j.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,j.jsx)(r.A,{size:20})}),(0,j.jsx)("div",{className:"container center",children:(0,j.jsxs)("div",{className:"gate",children:[(0,j.jsx)("div",{className:"gate-icon",children:(0,j.jsx)(h.A,{})}),(0,j.jsx)("h1",{className:"title",children:"Late Night Thoughts"}),(0,j.jsx)("p",{className:"subtitle",children:"enter passkey to continue"}),!1===A&&(0,j.jsx)("div",{className:"welcome-message",children:(0,j.jsx)("p",{children:"Welcome, Jaitika. This is your sacred space. Choose a passkey that only you will know, it becomes your permanent key. We won't see it, no one else can access it. This sanctuary is entirely yours. Create something meaningful."})}),(0,j.jsx)("input",{type:"password",value:f,onChange:e=>w(e.target.value),onKeyDown:e=>"Enter"===e.key&&$(),placeholder:!1===A?"Create your passkey":"Enter passkey",className:"input"}),k&&(0,j.jsx)("p",{className:"error",children:k}),(0,j.jsx)("button",{className:"btn primary",onClick:$,children:!1===A?"Set Passkey":"Access Journal"})]})})]})}a()}catch(S){a(S)}},1)},9292:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9397:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(5043),i=s(7784);const n=(0,i.A)("heart-handshake",[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]]),o=(0,i.A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),r="https://subtle-florentine-617632.netlify.app/.netlify/functions/groq";var l=s(579);function c(e){let{entryId:t,entryContent:s}=e;const[i,c]=(0,a.useState)(""),[h,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),m=(0,a.useRef)(!0);(0,a.useEffect)(()=>()=>{m.current=!1},[]);const y=(0,a.useCallback)(async()=>{if(null===s||void 0===s||!s.trim())return c(""),void p("Add a few more thoughts above and I will meet you there.");d(!0),p("");try{const e=await async function(e){var t,s,a,i,n,o,l;if(null===e||void 0===e||!e.trim())throw new Error("Entry is empty. Add some thoughts first.");const c=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entryText:e})});if(!c.ok){const e=await c.json().catch(()=>({}));throw new Error((null===e||void 0===e?void 0:e.error)||"Proxy failed: ".concat(c.status," ").concat(c.statusText))}const h=await c.json();if(null===h||void 0===h||!h.ok)throw new Error((null===h||void 0===h?void 0:h.error)||"Unknown proxy error");return((null===h||void 0===h||null===(t=h.data)||void 0===t||null===(s=t.choices)||void 0===s||null===(a=s[0])||void 0===a||null===(i=a.message)||void 0===i?void 0:i.content)||(null===h||void 0===h||null===(n=h.data)||void 0===n||null===(o=n.choices)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.text)||(null===h||void 0===h?void 0:h.reflection)||"").trim()}(s);if(!m.current)return;c(e)}catch(e){if(!m.current)return;p(e.message||"Your companion is quiet right now. Try again soon.")}finally{m.current&&d(!1)}},[s]);return(0,a.useEffect)(()=>{c(""),p(""),null!==s&&void 0!==s&&s.trim()?y():p("Add a few more thoughts above and I will meet you there.")},[t,s,y]),(0,l.jsxs)("div",{className:"reflection-panel","aria-live":"polite",children:[(0,l.jsx)("div",{className:"reflection-panel__halo","aria-hidden":!0}),(0,l.jsxs)("div",{className:"reflection-panel__content",children:[(0,l.jsxs)("div",{className:"reflection-panel__header",children:[(0,l.jsxs)("div",{className:"reflection-panel__title",children:[(0,l.jsx)("span",{className:"reflection-panel__icon",children:(0,l.jsx)(n,{size:18})}),(0,l.jsxs)("div",{className:"reflection-panel__meta",children:[(0,l.jsx)("span",{className:"reflection-panel__label",children:"Journal Companion"}),(0,l.jsx)("h3",{children:"Evening Reflection"})]})]}),(0,l.jsxs)("button",{type:"button",className:"reflection-panel__reload",onClick:y,disabled:h,children:[(0,l.jsx)(o,{size:16}),(0,l.jsx)("span",{children:h?"Listening...":"Reload reflection"})]})]}),(0,l.jsxs)("div",{className:"reflection-panel__body",children:[h&&!i&&(0,l.jsx)("p",{className:"reflection-panel__placeholder",children:"Let me sit with your words just a moment longer..."}),!h&&u&&(0,l.jsxs)("div",{className:"reflection-panel__error",children:[(0,l.jsx)("p",{children:u}),(0,l.jsx)("button",{type:"button",onClick:y,children:"Try again"})]}),i&&(0,l.jsx)("blockquote",{className:"reflection-panel__quote",children:i})]})]})]})}},9493:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},9855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},9989:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(7784).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])}}]);
//# sourceMappingURL=928.08becd30.chunk.js.map