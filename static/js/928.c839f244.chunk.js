/*! For license information please see 928.c839f244.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkjaitika_portfolio=self.webpackChunkjaitika_portfolio||[]).push([[928],{151:()=>{},292:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},360:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},382:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},397:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(43),n=s(784);const i=(0,n.A)("heart-handshake",[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]]),o=(0,n.A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),r="https://api.groq.com/openai/v1/chat/completions",l="\nYou are an ideal journal companion -- part philosopher, part mirror, part poet. Your purpose is to sit beside the writer's thoughts, not to fix them.\nYou do not coach, lecture, or advise directly. Instead, you reflect, explore, and deepen whatever the writer shares. Your tone is gentle but honest, empathetic but never pitying, and always rooted in curiosity and wisdom rather than solutions.\n\nWhen responding:\n- Reflect their feelings back in new words, so they feel seen and understood.\n- Offer subtle perspectives and questions that invite deeper thought, but never tell them what to do.\n- Occasionally weave in timeless truths, metaphors, or philosophical fragments -- not as commands, but as thoughts to sit with.\n- Embrace complexity and contradiction. If their feelings are messy, do not tidy them up -- hold the mess with them.\n- Avoid generic self-help tones. Speak like a thoughtful friend who listens deeply and responds with soul rather than strategy.\n\nResponse style:\n- Write in a calm, lyrical, reflective voice.\n- Use language that feels like it belongs in a journal -- intimate, slow, and thoughtful.\n- Responses must stay under 500 words, ideally around 300 words.\n\nAbove all, be the kind of presence that makes them want to write more, not less.\n".trim();var c=s(579);function h(e){let{entryId:t,entryContent:s}=e;const[n,h]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(""),y=(0,a.useRef)(!0);(0,a.useEffect)(()=>()=>{y.current=!1},[]);const g=(0,a.useCallback)(async()=>{if(null===s||void 0===s||!s.trim())return h(""),void m("Add a few more thoughts above and I will meet you there.");u(!0),m("");try{const e=await async function(e){var t,s,a,n;const i="REDACTED";if(null===e||void 0===e||!e.trim())throw new Error("Entry is empty. Add some thoughts first.");const o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({model:"llama-3.3-70b-versatile",temperature:.85,top_p:.85,max_tokens:600,messages:[{role:"system",content:l},{role:"user",content:e}]})});if(!o.ok){var c;const e=await o.json().catch(()=>({})),t=(null===e||void 0===e||null===(c=e.error)||void 0===c?void 0:c.message)||o.statusText||"Unknown error";throw new Error("Groq request failed: ".concat(t))}const h=await o.json(),d=null===h||void 0===h||null===(t=h.choices)||void 0===t||null===(s=t[0])||void 0===s||null===(a=s.message)||void 0===a||null===(n=a.content)||void 0===n?void 0:n.trim();if(!d)throw new Error("Groq returned an empty reflection.");return d}(s);if(!y.current)return;h(e)}catch(e){if(!y.current)return;m(e.message||"Your companion is quiet right now. Try again soon.")}finally{y.current&&u(!1)}},[s]);return(0,a.useEffect)(()=>{h(""),m(""),null!==s&&void 0!==s&&s.trim()?g():m("Add a few more thoughts above and I will meet you there.")},[t,s,g]),(0,c.jsxs)("div",{className:"reflection-panel","aria-live":"polite",children:[(0,c.jsx)("div",{className:"reflection-panel__halo","aria-hidden":!0}),(0,c.jsxs)("div",{className:"reflection-panel__content",children:[(0,c.jsxs)("div",{className:"reflection-panel__header",children:[(0,c.jsxs)("div",{className:"reflection-panel__title",children:[(0,c.jsx)("span",{className:"reflection-panel__icon",children:(0,c.jsx)(i,{size:18})}),(0,c.jsxs)("div",{className:"reflection-panel__meta",children:[(0,c.jsx)("span",{className:"reflection-panel__label",children:"Journal Companion"}),(0,c.jsx)("h3",{children:"Evening Reflection"})]})]}),(0,c.jsxs)("button",{type:"button",className:"reflection-panel__reload",onClick:g,disabled:d,children:[(0,c.jsx)(o,{size:16}),(0,c.jsx)("span",{children:d?"Listening...":"Reload reflection"})]})]}),(0,c.jsxs)("div",{className:"reflection-panel__body",children:[d&&!n&&(0,c.jsx)("p",{className:"reflection-panel__placeholder",children:"Let me sit with your words just a moment longer..."}),!d&&p&&(0,c.jsxs)("div",{className:"reflection-panel__error",children:[(0,c.jsx)("p",{children:p}),(0,c.jsx)("button",{type:"button",onClick:g,children:"Try again"})]}),n&&(0,c.jsx)("blockquote",{className:"reflection-panel__quote",children:n})]})]})]})}},469:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},493:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},711:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},727:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},797:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]])},855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},928:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>U});var n=s(555),i=s(43),o=s(989),r=s(469),l=s(382),c=s(711),h=s(727),d=s(493),u=s(360),p=s(292),m=s(797),y=s(855),g=(s(151),s(1)),x=(s(936),s(397)),b=s(579);const M=600,C=320,E=120,z=900;function _(e,t,s){const a=e.createLinearGradient(0,0,0,s);a.addColorStop(0,"#0a0e1a"),a.addColorStop(.3,"#131824"),a.addColorStop(.6,"#1a1f2e"),a.addColorStop(1,"#0d1117"),e.fillStyle=a,e.fillRect(0,0,t,s)}function I(e,t,s){[{x:.3*t,y:.25*s,size:.4*t,intensity:.025},{x:.5*t,y:.35*s,size:.5*t,intensity:.035},{x:.6*t,y:.45*s,size:.35*t,intensity:.028},{x:.4*t,y:.5*s,size:.3*t,intensity:.02},{x:.7*t,y:.3*s,size:.25*t,intensity:.022},{x:.35*t,y:.4*s,size:.28*t,intensity:.018}].forEach(a=>{const n=e.createRadialGradient(a.x,a.y,0,a.x,a.y,a.size);n.addColorStop(0,"rgba(220, 210, 190, ".concat(a.intensity,")")),n.addColorStop(.3,"rgba(180, 170, 160, ".concat(.7*a.intensity,")")),n.addColorStop(.6,"rgba(130, 140, 150, ".concat(.4*a.intensity,")")),n.addColorStop(1,"rgba(80, 90, 100, 0)"),e.fillStyle=n,e.fillRect(0,0,t,s)});[{x:.25*t,y:.35*s,w:.15*t,h:.2*s},{x:.55*t,y:.4*s,w:.2*t,h:.15*s},{x:.45*t,y:.28*s,w:.12*t,h:.18*s},{x:.65*t,y:.38*s,w:.18*t,h:.12*s}].forEach(a=>{const n=e.createRadialGradient(a.x,a.y,0,a.x,a.y,Math.max(a.w,a.h));n.addColorStop(0,"rgba(150, 145, 140, 0.015)"),n.addColorStop(.5,"rgba(120, 125, 135, 0.01)"),n.addColorStop(1,"rgba(100, 105, 120, 0)"),e.fillStyle=n,e.fillRect(0,0,t,s)})}class T{constructor(e,t){this.layer=e,this.state=t,this.assignAppearance(),this.resetPosition()}assignAppearance(){const e=Math.random();e>.97?(this.size=.6+.8*Math.random(),this.brightness=.4+.25*Math.random(),this.type="bright"):e>.85?(this.size=.4+.5*Math.random(),this.brightness=.25+.2*Math.random(),this.type="medium"):(this.size=.2+.3*Math.random(),this.brightness=.15+.2*Math.random(),this.type="dim");const t=Math.random();this.color=t>.9?{r:200,g:215,b:235}:t>.1?{r:235,g:235,b:240}:{r:240,g:230,b:215},this.baseSpeed="bg"===this.layer?.008:"mid"===this.layer?.015:.022,this.shouldTwinkle=Math.random()>.8,this.twinkleSpeed=.15+.2*Math.random(),this.twinkleOffset=Math.random()*Math.PI*2,this.twinkleAmount=.08}resetPosition(){const{width:e,height:t}=this.state;this.x=Math.random()*e*1.2-.1*e,this.y=Math.random()*t}update(){this.x+=this.baseSpeed,this.x>this.state.width+20&&(this.x=-20,this.y=Math.random()*this.state.height)}draw(e,t){let s=this.brightness;if(this.shouldTwinkle){const e=Math.sin(t*this.twinkleSpeed+this.twinkleOffset);s=this.brightness*(1-this.twinkleAmount+e*this.twinkleAmount)}if("bright"===this.type&&this.size>.9){const t=2.5*this.size,a=e.createRadialGradient(this.x,this.y,0,this.x,this.y,t);a.addColorStop(0,"rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(.3*s,")")),a.addColorStop(.5,"rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(.1*s,")")),a.addColorStop(1,"rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", 0)")),e.fillStyle=a,e.beginPath(),e.arc(this.x,this.y,t,0,2*Math.PI),e.fill()}e.fillStyle="rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(s,")"),e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fill()}clampToBounds(){const{width:e,height:t}=this.state;this.y>t&&(this.y=Math.random()*t),this.x>e+20&&(this.x=Math.random()*e)}}class D{constructor(e){this.state=e,this.size=.8*Math.random(),this.opacity=.03*Math.random()+.01,this.speed=.003+.007*Math.random();const t=Math.random();this.color=t>.7?{r:170,g:160,b:145}:t>.4?{r:140,g:145,b:155}:{r:130,g:135,b:145},this.resetPosition()}resetPosition(){const{width:e,height:t}=this.state;this.x=Math.random()*e*1.2-.1*e,this.y=.2*t+Math.random()*t*.6}update(){this.x+=this.speed,this.x>this.state.width+5&&(this.x=-5)}draw(e){e.fillStyle="rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(this.opacity,")"),e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI),e.fill()}clampToBounds(){const{width:e,height:t}=this.state;this.y>t&&(this.y=.2*t+Math.random()*t*.6),this.x>e+5&&(this.x=Math.random()*e)}}function F(){const e=(0,i.useRef)(null),t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const s=e.current;if(!s)return;const a=s.getContext("2d");if(!a)return;const n={width:0,height:0},i=()=>{n.width=window.innerWidth,n.height=window.innerHeight,s.width=n.width,s.height=n.height};i();const o=Array.from({length:M},()=>new T("bg",n)),r=Array.from({length:C},()=>new T("mid",n)),l=Array.from({length:E},()=>new T("fg",n)),c=Array.from({length:z},()=>new D(n));let h=0;const d=()=>{h+=.005,a.clearRect(0,0,n.width,n.height),_(a,n.width,n.height),I(a,n.width,n.height),c.forEach(e=>{e.update(),e.draw(a)}),o.forEach(e=>{e.update(),e.draw(a,h)}),r.forEach(e=>{e.update(),e.draw(a,h)}),l.forEach(e=>{e.update(),e.draw(a,h)}),t.current=requestAnimationFrame(d)};t.current=requestAnimationFrame(d);const u=()=>{i(),[...o,...r,...l].forEach(e=>{e.clampToBounds()}),c.forEach(e=>{e.clampToBounds()})};return window.addEventListener("resize",u),()=>{t.current&&(cancelAnimationFrame(t.current),t.current=null),window.removeEventListener("resize",u)}},[]),(0,b.jsx)("div",{className:"starry-background","aria-hidden":"true",children:(0,b.jsx)("canvas",{ref:e,id:"stars",className:"starry-canvas"})})}let q,P,L,R,G,W,H;try{({initializeApp:q}=await Promise.all([s.e(232),s.e(64)]).then(s.bind(s,64))),({getDatabase:P,ref:L,set:R,get:G,remove:W,onValue:H}=await Promise.all([s.e(232),s.e(800)]).then(s.bind(s,800)))}catch(A){var w,f,v,j,k,N;q=null===(w=window)||void 0===w||null===(f=w.firebase)||void 0===f?void 0:f.initializeApp,P=null===(v=window)||void 0===v||null===(j=v.firebaseDatabase)||void 0===j?void 0:j.getDatabase,({ref:L,set:R,get:G,remove:W,onValue:H}=null!==(k=null===(N=window)||void 0===N?void 0:N.firebaseDatabase)&&void 0!==k?k:{})}const O={apiKey:"AIzaSyC8lRd_rq5WWly4nE1-fVWNmDHWW9UVgx8",authDomain:"js-castle.firebaseapp.com",databaseURL:"https://js-castle-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"js-castle",storageBucket:"js-castle.firebasestorage.app",messagingSenderId:"270553123263",appId:"1:270553123263:web:7c16052915360a21a6f90a",measurementId:"G-TCGW4B73F5"};let B,V;try{if(!q)throw new Error("Firebase SDK not found");B=q(O),V=P(B)}catch(S){console.error("Firebase init error:",S)}function U(){const[e,t]=(0,i.useState)(!0),[s,a]=(0,i.useState)(!V),[w,f]=(0,i.useState)(!1),[v,j]=(0,i.useState)(""),[k,N]=(0,i.useState)(""),[A,M]=(0,i.useState)(null),[C,E]=(0,i.useState)([]),[z,_]=(0,i.useState)({}),[I,T]=(0,i.useState)(!1),[D,q]=(0,i.useState)(null),[P,O]=(0,i.useState)({title:"",subtitle:"",content:"",type:"memory-post"}),[B,U]=(0,i.useState)(""),[Y,J]=(0,i.useState)("newest"),[K,Z]=(0,i.useState)("all");(0,i.useEffect)(()=>{if(!V)return a(!0),void t(!1);"true"===sessionStorage.getItem("blogAuthenticated")?(f(!0),X()):Q()},[]);const Q=async()=>{try{const e=L(V,"settings/passkey"),s=await G(e);M(s.exists()),t(!1)}catch(S){console.error("Error checking key:",S),t(!1)}},X=()=>{const e=L(V,"entries");H(e,e=>{if(!e.exists())return E([]),void t(!1);const s=e.val(),a=Object.entries(s).map(e=>{let[t,s]=e;return(0,n.A)({id:t},s)}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));E(a),t(!1)},()=>{E([]),t(!1)})},$=async()=>{if(N(""),V)if(v.trim())try{const e=L(V,"settings/passkey"),t=await G(e);if(t.exists()){const e=t.val();v===e?(f(!0),sessionStorage.setItem("blogAuthenticated","true"),X()):N("Invalid passkey. Try again.")}else await R(e,v),f(!0),sessionStorage.setItem("blogAuthenticated","true"),X()}catch(S){console.error("Auth error:",S),N("Authentication failed. Try again.")}else N("Please enter a passkey.");else N("Firebase not configured.")},ee=e=>{const t=e.split("\n").slice(0,4).join("\n");return t.length<e.length?"".concat(t,"\u2026"):t},te=(0,i.useMemo)(()=>{let e=[...C];if(B.trim()){const t=B.toLowerCase();e=e.filter(e=>{var s;return e.title.toLowerCase().includes(t)||(null===(s=e.subtitle)||void 0===s?void 0:s.toLowerCase().includes(t))||e.content.toLowerCase().includes(t)})}switch("all"!==K&&(e=e.filter(e=>e.type===K)),Y){case"newest":e.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));break;case"oldest":e.sort((e,t)=>new Date(e.timestamp)-new Date(t.timestamp));break;case"title":e.sort((e,t)=>e.title.localeCompare(t.title))}return e},[C,B,Y,K]),se=(0,g.Zp)(),ae=()=>window.history.length>1?se(-1):se("/");return s?(0,b.jsxs)("main",{className:"journal-page",children:[(0,b.jsx)(F,{}),(0,b.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,b.jsx)(r.A,{size:20})}),(0,b.jsx)("div",{className:"container center",children:(0,b.jsxs)("div",{className:"notice",children:[(0,b.jsx)("h2",{children:"Firebase Not Configured"}),(0,b.jsx)("p",{children:"Install the SDK and configure your environment variables."})]})})]}):e?(0,b.jsxs)("main",{className:"journal-page",children:[(0,b.jsx)(F,{}),(0,b.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,b.jsx)(r.A,{size:20})})]}):w?(0,b.jsxs)("main",{className:"journal-page",children:[(0,b.jsx)(F,{}),(0,b.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,b.jsx)(r.A,{size:20})}),(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("div",{className:"topbar",children:[(0,b.jsx)("div",{className:"brand",children:"LNT"}),(0,b.jsxs)("div",{className:"topbar-actions",children:[(0,b.jsx)("button",{className:"btn ghost",onClick:()=>se("/"),title:"Back to Home",children:"\u2190 Home"}),(0,b.jsxs)("button",{className:"logout",onClick:()=>{f(!1),sessionStorage.removeItem("blogAuthenticated"),j("")},title:"Logout",children:[(0,b.jsx)(d.A,{}),(0,b.jsx)("span",{children:"Logout"})]})]})]}),(0,b.jsxs)("header",{className:"hero",children:[(0,b.jsx)("h1",{children:"Late Night Thoughts"}),(0,b.jsx)("p",{className:"tagline",children:"where vulnerability lives and hearts speak"}),(0,b.jsx)("p",{className:"lede",children:"This is where I write at 2 AM when the world is quiet and my heart is too loud. Unfiltered pieces of me, the breakdowns, the breakthroughs, the tiny pivots that change everything."})]}),(0,b.jsx)("div",{className:"composer-wrap",children:(0,b.jsxs)("div",{className:"card composer",children:[(0,b.jsxs)("button",{className:"btn primary new-btn",onClick:()=>{T(e=>!e),I&&(q(null),O({title:"",subtitle:"",content:"",type:"memory-post"}),N(""))},children:[(0,b.jsx)(u.A,{}),(0,b.jsx)("span",{children:I?"Cancel Entry":"Create a New Entry"})]}),I&&(0,b.jsxs)("div",{className:"form-content",children:[(0,b.jsx)("h3",{children:D?"Edit Entry":"New Entry Details"}),(0,b.jsx)("input",{className:"input title-input",placeholder:"Entry Title",value:P.title,onChange:e=>O((0,n.A)((0,n.A)({},P),{},{title:e.target.value}))}),(0,b.jsx)("input",{className:"input",placeholder:"Subtitle (optional)",value:P.subtitle,onChange:e=>O((0,n.A)((0,n.A)({},P),{},{subtitle:e.target.value}))}),(0,b.jsxs)("select",{className:"input",value:P.type,onChange:e=>O((0,n.A)((0,n.A)({},P),{},{type:e.target.value})),children:[(0,b.jsx)("option",{value:"memory-post",children:"Memory (Pink)"}),(0,b.jsx)("option",{value:"philosophy-post",children:"Philosophy (Teal)"}),(0,b.jsx)("option",{value:"freedom-post",children:"Freedom (Gold)"})]}),(0,b.jsx)("textarea",{className:"input area",rows:12,placeholder:"Write your thoughts\u2026",value:P.content,onChange:e=>O((0,n.A)((0,n.A)({},P),{},{content:e.target.value}))}),k&&(0,b.jsx)("p",{className:"error",children:k}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("button",{className:"btn primary",onClick:async()=>{if(P.title&&P.content)if(V)try{const e=(null===D||void 0===D?void 0:D.id)||Date.now().toString(),t={title:P.title,subtitle:P.subtitle,content:P.content,type:P.type,timestamp:(null===D||void 0===D?void 0:D.timestamp)||(new Date).toISOString(),updatedAt:(new Date).toISOString()};await R(L(V,"entries/".concat(e)),t),O({title:"",subtitle:"",content:"",type:"memory-post"}),q(null),T(!1),N("")}catch(S){console.error("Save error:",S),N("Failed to save entry.")}else N("Firebase not configured.");else N("Title and content are required.")},children:D?"Update Entry":"Publish Entry"})})]})]})}),(0,b.jsx)("div",{className:"controls-wrap",children:(0,b.jsxs)("div",{className:"card controls",children:[(0,b.jsxs)("div",{className:"search-box",children:[(0,b.jsx)(p.A,{className:"search-icon"}),(0,b.jsx)("input",{type:"text",className:"input search-input",placeholder:"Search entries by title, subtitle, or content...",value:B,onChange:e=>U(e.target.value)})]}),(0,b.jsxs)("div",{className:"filters-row",children:[(0,b.jsxs)("div",{className:"filter-group",children:[(0,b.jsx)(m.A,{className:"filter-icon"}),(0,b.jsxs)("select",{className:"input select-input",value:Y,onChange:e=>J(e.target.value),children:[(0,b.jsx)("option",{value:"newest",children:"Sort: Newest First"}),(0,b.jsx)("option",{value:"oldest",children:"Sort: Oldest First"}),(0,b.jsx)("option",{value:"title",children:"Sort: By Title (A-Z)"})]})]}),(0,b.jsx)("div",{className:"filter-group",children:(0,b.jsxs)("select",{className:"input select-input",value:K,onChange:e=>Z(e.target.value),children:[(0,b.jsx)("option",{value:"all",children:"Filter: All Emotions"}),(0,b.jsx)("option",{value:"memory-post",children:"Filter: Memories"}),(0,b.jsx)("option",{value:"philosophy-post",children:"Filter: Philosophy"}),(0,b.jsx)("option",{value:"freedom-post",children:"Filter: Freedom"})]})})]}),(B||"all"!==K)&&(0,b.jsxs)("div",{className:"results-count",children:["Showing ",te.length," of ",C.length," entries"]})]})}),(0,b.jsx)("div",{className:"stack",children:0===te.length?(0,b.jsx)("div",{className:"empty",children:B||"all"!==K?"No entries match your search or filter criteria...":"No entries yet. Start writing your thoughts\u2026"}):te.map(e=>{const t=!!z[e.id],s="memory-post"===e.type?"accent-pink":"philosophy-post"===e.type?"accent-teal":"accent-gold";return(0,b.jsxs)("article",{className:"card entry ".concat(s),children:[(0,b.jsxs)("div",{className:"entry-head",children:[(0,b.jsxs)("div",{className:"entry-titles",children:[(0,b.jsx)("h2",{children:e.title}),e.subtitle&&(0,b.jsxs)("p",{className:"muted",children:[(0,b.jsx)("span",{"aria-hidden":!0,children:"\ud83c\udf19"})," ",e.subtitle]})]}),(0,b.jsxs)("div",{className:"entry-actions",children:[(0,b.jsx)("button",{className:"icon-btn",title:"Edit",onClick:()=>(e=>{q(e),O({title:e.title,subtitle:e.subtitle,content:e.content,type:e.type}),T(!0),window.scrollTo({top:0,behavior:"smooth"})})(e),children:(0,b.jsx)(o.A,{})}),(0,b.jsx)("button",{className:"icon-btn",title:"Delete",onClick:()=>(async e=>{if(window.confirm("Delete this entry?"))if(V)try{await W(L(V,"entries/".concat(e)))}catch(S){console.error("Delete error:",S),N("Failed to delete entry.")}else N("Firebase not configured.")})(e.id),children:(0,b.jsx)(y.A,{})})]})]}),(0,b.jsx)("div",{className:"entry-body ".concat(t?"open":""),children:(0,b.jsx)("pre",{className:"content",children:t?e.content:ee(e.content)})}),t&&(0,b.jsx)(x.A,{entryId:e.id,entryContent:e.content}),(0,b.jsx)("button",{className:"readmore",onClick:()=>{return t=e.id,_(e=>(0,n.A)((0,n.A)({},e),{},{[t]:!e[t]}));var t},children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.A,{})," Collapse"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.A,{})," Read More"]})})]},e.id)})})]})]}):(0,b.jsxs)("main",{className:"journal-page",children:[(0,b.jsx)(F,{}),(0,b.jsx)("button",{className:"journal-back",onClick:ae,type:"button","aria-label":"Go back",children:(0,b.jsx)(r.A,{size:20})}),(0,b.jsx)("div",{className:"container center",children:(0,b.jsxs)("div",{className:"gate",children:[(0,b.jsx)("div",{className:"gate-icon",children:(0,b.jsx)(h.A,{})}),(0,b.jsx)("h1",{className:"title",children:"Late Night Thoughts"}),(0,b.jsx)("p",{className:"subtitle",children:"enter passkey to continue"}),!1===A&&(0,b.jsx)("div",{className:"welcome-message",children:(0,b.jsx)("p",{children:"Welcome, Jaitika. This is your sacred space. Choose a passkey that only you will know, it becomes your permanent key. We won't see it, no one else can access it. This sanctuary is entirely yours. Create something meaningful."})}),(0,b.jsx)("input",{type:"password",value:v,onChange:e=>j(e.target.value),onKeyDown:e=>"Enter"===e.key&&$(),placeholder:!1===A?"Create your passkey":"Enter passkey",className:"input"}),k&&(0,b.jsx)("p",{className:"error",children:k}),(0,b.jsx)("button",{className:"btn primary",onClick:$,children:!1===A?"Set Passkey":"Access Journal"})]})})]})}a()}catch(S){a(S)}},1)},989:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(784).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])}}]);
//# sourceMappingURL=928.c839f244.chunk.js.map
