{"version":3,"file":"static/js/928.c839f244.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/chevron-down.ts","../node_modules/lucide-react/src/icons/heart-handshake.ts","../node_modules/lucide-react/src/icons/refresh-ccw.ts","services/reflectionService.js","components/ReflectionPanel.js","../node_modules/lucide-react/src/icons/arrow-left.ts","../node_modules/lucide-react/src/icons/log-out.ts","../node_modules/lucide-react/src/icons/chevron-up.ts","../node_modules/lucide-react/src/icons/lock.ts","../node_modules/lucide-react/src/icons/sliders-horizontal.ts","../node_modules/lucide-react/src/icons/trash-2.ts","pages/Journal.js","../node_modules/lucide-react/src/icons/pen.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762',\n      key: '17lmqv',\n    },\n  ],\n];\n\n/**\n * @component @name HeartHandshake\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkuNDE0IDE0LjQxNEMyMSAxMi44MjggMjIgMTEuNSAyMiA5LjVhNS41IDUuNSAwIDAgMC05LjU5MS0zLjY3Ni42LjYgMCAwIDEtLjgxOC4wMDFBNS41IDUuNSAwIDAgMCAyIDkuNWMwIDIuMyAxLjUgNCAzIDUuNWw1LjUzNSA1LjM2MmEyIDIgMCAwIDAgMi44NzkuMDUyIDIuMTIgMi4xMiAwIDAgMC0uMDA0LTMgMi4xMjQgMi4xMjQgMCAxIDAgMy0zIDIuMTI0IDIuMTI0IDAgMCAwIDMuMDA0IDAgMiAyIDAgMCAwIDAtMi44MjhsLTEuODgxLTEuODgyYTIuNDEgMi40MSAwIDAgMC0zLjQwOSAwbC0xLjcxIDEuNzFhMiAyIDAgMCAxLTIuODI4IDAgMiAyIDAgMCAxIDAtMi44MjhsMi44MjMtMi43NjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/heart-handshake\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst HeartHandshake = createLucideIcon('heart-handshake', __iconNode);\n\nexport default HeartHandshake;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '14sxne' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16', key: '1hlbsb' }],\n  ['path', { d: 'M16 16h5v5', key: 'ccwih5' }],\n];\n\n/**\n * @component @name RefreshCcw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMCAwLTktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOCIgLz4KICA8cGF0aCBkPSJNMyAzdjVoNSIgLz4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDAgOSA5IDkuNzUgOS43NSAwIDAgMCA2Ljc0LTIuNzRMMjEgMTYiIC8+CiAgPHBhdGggZD0iTTE2IDE2aDV2NSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/refresh-ccw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCcw = createLucideIcon('refresh-ccw', __iconNode);\n\nexport default RefreshCcw;\n","const GROQ_ENDPOINT = \"https://api.groq.com/openai/v1/chat/completions\";\r\n\r\nconst JOURNAL_PROMPT = `\r\nYou are an ideal journal companion -- part philosopher, part mirror, part poet. Your purpose is to sit beside the writer's thoughts, not to fix them.\r\nYou do not coach, lecture, or advise directly. Instead, you reflect, explore, and deepen whatever the writer shares. Your tone is gentle but honest, empathetic but never pitying, and always rooted in curiosity and wisdom rather than solutions.\r\n\r\nWhen responding:\r\n- Reflect their feelings back in new words, so they feel seen and understood.\r\n- Offer subtle perspectives and questions that invite deeper thought, but never tell them what to do.\r\n- Occasionally weave in timeless truths, metaphors, or philosophical fragments -- not as commands, but as thoughts to sit with.\r\n- Embrace complexity and contradiction. If their feelings are messy, do not tidy them up -- hold the mess with them.\r\n- Avoid generic self-help tones. Speak like a thoughtful friend who listens deeply and responds with soul rather than strategy.\r\n\r\nResponse style:\r\n- Write in a calm, lyrical, reflective voice.\r\n- Use language that feels like it belongs in a journal -- intimate, slow, and thoughtful.\r\n- Responses must stay under 500 words, ideally around 300 words.\r\n\r\nAbove all, be the kind of presence that makes them want to write more, not less.\r\n`.trim();\r\n\r\nexport async function fetchReflection(entryText) {\r\n  const apiKey = process.env.REACT_APP_GROQ_API_KEY;\r\n  if (!apiKey) {\r\n    throw new Error(\"Missing GROQ API key. Set REACT_APP_GROQ_API_KEY in your environment.\");\r\n  }\r\n\r\n  if (!entryText?.trim()) {\r\n    throw new Error(\"Entry is empty. Add some thoughts first.\");\r\n  }\r\n\r\n  const response = await fetch(GROQ_ENDPOINT, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${apiKey}`,\r\n    },\r\n    body: JSON.stringify({\r\n      model: \"llama-3.3-70b-versatile\",\r\n      temperature: 0.85,\r\n      top_p: 0.85,\r\n      max_tokens: 600,\r\n      messages: [\r\n        { role: \"system\", content: JOURNAL_PROMPT },\r\n        { role: \"user\", content: entryText },\r\n      ],\r\n    }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const errorPayload = await response.json().catch(() => ({}));\r\n    const detail = errorPayload?.error?.message || response.statusText || \"Unknown error\";\r\n    throw new Error(`Groq request failed: ${detail}`);\r\n  }\r\n\r\n  const data = await response.json();\r\n  const reflection = data?.choices?.[0]?.message?.content?.trim();\r\n\r\n  if (!reflection) {\r\n    throw new Error(\"Groq returned an empty reflection.\");\r\n  }\r\n\r\n  return reflection;\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { HeartHandshake, RefreshCcw } from \"lucide-react\";\r\nimport { fetchReflection } from \"../services/reflectionService\";\r\n\r\nexport default function ReflectionPanel({ entryId, entryContent }) {\r\n  const [reflection, setReflection] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const isMountedRef = useRef(true);\r\n\r\n  useEffect(() => () => {\r\n    isMountedRef.current = false;\r\n  }, []);\r\n\r\n  const loadReflection = useCallback(async () => {\r\n    if (!entryContent?.trim()) {\r\n      setReflection(\"\");\r\n      setError(\"Add a few more thoughts above and I will meet you there.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const nextReflection = await fetchReflection(entryContent);\r\n      if (!isMountedRef.current) {\r\n        return;\r\n      }\r\n      setReflection(nextReflection);\r\n    } catch (err) {\r\n      if (!isMountedRef.current) {\r\n        return;\r\n      }\r\n      setError(err.message || \"Your companion is quiet right now. Try again soon.\");\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  }, [entryContent]);\r\n\r\n  useEffect(() => {\r\n    setReflection(\"\");\r\n    setError(\"\");\r\n    if (entryContent?.trim()) {\r\n      loadReflection();\r\n    } else {\r\n      setError(\"Add a few more thoughts above and I will meet you there.\");\r\n    }\r\n  }, [entryId, entryContent, loadReflection]);\r\n\r\n  return (\r\n    <div className=\"reflection-panel\" aria-live=\"polite\">\r\n      <div className=\"reflection-panel__halo\" aria-hidden />\r\n      <div className=\"reflection-panel__content\">\r\n        <div className=\"reflection-panel__header\">\r\n          <div className=\"reflection-panel__title\">\r\n            <span className=\"reflection-panel__icon\">\r\n              <HeartHandshake size={18} />\r\n            </span>\r\n            <div className=\"reflection-panel__meta\">\r\n              <span className=\"reflection-panel__label\">Journal Companion</span>\r\n              <h3>Evening Reflection</h3>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"reflection-panel__reload\"\r\n            onClick={loadReflection}\r\n            disabled={loading}\r\n          >\r\n            <RefreshCcw size={16} />\r\n            <span>{loading ? \"Listening...\" : \"Reload reflection\"}</span>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"reflection-panel__body\">\r\n          {loading && !reflection && (\r\n            <p className=\"reflection-panel__placeholder\">\r\n              Let me sit with your words just a moment longer...\r\n            </p>\r\n          )}\r\n\r\n          {!loading && error && (\r\n            <div className=\"reflection-panel__error\">\r\n              <p>{error}</p>\r\n              <button type=\"button\" onClick={loadReflection}>\r\n                Try again\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {reflection && (\r\n            <blockquote className=\"reflection-panel__quote\">\r\n              {reflection}\r\n            </blockquote>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n];\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('lock', __iconNode);\n\nexport default Lock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 5H3', key: '1qgfaw' }],\n  ['path', { d: 'M12 19H3', key: 'yhmn1j' }],\n  ['path', { d: 'M14 3v4', key: '1sua03' }],\n  ['path', { d: 'M16 17v4', key: '1q0r14' }],\n  ['path', { d: 'M21 12h-9', key: '1o4lsq' }],\n  ['path', { d: 'M21 19h-5', key: '1rlt1p' }],\n  ['path', { d: 'M21 5h-7', key: '1oszz2' }],\n  ['path', { d: 'M8 10v4', key: 'tgpxqk' }],\n  ['path', { d: 'M8 12H3', key: 'a7s4jb' }],\n];\n\n/**\n * @component @name SlidersHorizontal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgNUgzIiAvPgogIDxwYXRoIGQ9Ik0xMiAxOUgzIiAvPgogIDxwYXRoIGQ9Ik0xNCAzdjQiIC8+CiAgPHBhdGggZD0iTTE2IDE3djQiIC8+CiAgPHBhdGggZD0iTTIxIDEyaC05IiAvPgogIDxwYXRoIGQ9Ik0yMSAxOWgtNSIgLz4KICA8cGF0aCBkPSJNMjEgNWgtNyIgLz4KICA8cGF0aCBkPSJNOCAxMHY0IiAvPgogIDxwYXRoIGQ9Ik04IDEySDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sliders-horizontal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SlidersHorizontal = createLucideIcon('sliders-horizontal', __iconNode);\n\nexport default SlidersHorizontal;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Lock, Plus, ChevronDown, ChevronUp, LogOut, Edit2, Trash2, Search, SlidersHorizontal, ArrowLeft } from \"lucide-react\";\r\nimport \"./journal.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport '../index.css';\r\nimport ReflectionPanel from \"../components/ReflectionPanel\";\r\n\r\n\r\nconst BACKGROUND_STAR_COUNT = 600;\r\nconst MIDGROUND_STAR_COUNT = 320;\r\nconst FOREGROUND_STAR_COUNT = 120;\r\nconst DUST_PARTICLE_COUNT = 900;\r\n\r\nfunction drawSkyGradient(ctx, width, height) {\r\n  const gradient = ctx.createLinearGradient(0, 0, 0, height);\r\n  gradient.addColorStop(0, \"#0a0e1a\");\r\n  gradient.addColorStop(0.3, \"#131824\");\r\n  gradient.addColorStop(0.6, \"#1a1f2e\");\r\n  gradient.addColorStop(1, \"#0d1117\");\r\n  ctx.fillStyle = gradient;\r\n  ctx.fillRect(0, 0, width, height);\r\n}\r\n\r\nfunction drawMilkyWayPatches(ctx, width, height) {\r\n  const patches = [\r\n    { x: width * 0.3, y: height * 0.25, size: width * 0.4, intensity: 0.025 },\r\n    { x: width * 0.5, y: height * 0.35, size: width * 0.5, intensity: 0.035 },\r\n    { x: width * 0.6, y: height * 0.45, size: width * 0.35, intensity: 0.028 },\r\n    { x: width * 0.4, y: height * 0.5, size: width * 0.3, intensity: 0.02 },\r\n    { x: width * 0.7, y: height * 0.3, size: width * 0.25, intensity: 0.022 },\r\n    { x: width * 0.35, y: height * 0.4, size: width * 0.28, intensity: 0.018 }\r\n  ];\r\n\r\n  patches.forEach((patch) => {\r\n    const gradient = ctx.createRadialGradient(\r\n      patch.x, patch.y, 0,\r\n      patch.x, patch.y, patch.size\r\n    );\r\n\r\n    gradient.addColorStop(0, `rgba(220, 210, 190, ${patch.intensity})`);\r\n    gradient.addColorStop(0.3, `rgba(180, 170, 160, ${patch.intensity * 0.7})`);\r\n    gradient.addColorStop(0.6, `rgba(130, 140, 150, ${patch.intensity * 0.4})`);\r\n    gradient.addColorStop(1, \"rgba(80, 90, 100, 0)\");\r\n\r\n    ctx.fillStyle = gradient;\r\n    ctx.fillRect(0, 0, width, height);\r\n  });\r\n\r\n  const clouds = [\r\n    { x: width * 0.25, y: height * 0.35, w: width * 0.15, h: height * 0.2 },\r\n    { x: width * 0.55, y: height * 0.4, w: width * 0.2, h: height * 0.15 },\r\n    { x: width * 0.45, y: height * 0.28, w: width * 0.12, h: height * 0.18 },\r\n    { x: width * 0.65, y: height * 0.38, w: width * 0.18, h: height * 0.12 }\r\n  ];\r\n\r\n  clouds.forEach((cloud) => {\r\n    const gradient = ctx.createRadialGradient(\r\n      cloud.x, cloud.y, 0,\r\n      cloud.x, cloud.y, Math.max(cloud.w, cloud.h)\r\n    );\r\n\r\n    gradient.addColorStop(0, \"rgba(150, 145, 140, 0.015)\");\r\n    gradient.addColorStop(0.5, \"rgba(120, 125, 135, 0.01)\");\r\n    gradient.addColorStop(1, \"rgba(100, 105, 120, 0)\");\r\n\r\n    ctx.fillStyle = gradient;\r\n    ctx.fillRect(0, 0, width, height);\r\n  });\r\n}\r\n\r\nclass Star {\r\n  constructor(layer, state) {\r\n    this.layer = layer;\r\n    this.state = state;\r\n    this.assignAppearance();\r\n    this.resetPosition();\r\n  }\r\n\r\n  assignAppearance() {\r\n    const rand = Math.random();\r\n    if (rand > 0.97) {\r\n      this.size = 0.6 + Math.random() * 0.8;\r\n      this.brightness = 0.4 + Math.random() * 0.25;\r\n      this.type = \"bright\";\r\n    } else if (rand > 0.85) {\r\n      this.size = 0.4 + Math.random() * 0.5;\r\n      this.brightness = 0.25 + Math.random() * 0.2;\r\n      this.type = \"medium\";\r\n    } else {\r\n      this.size = 0.2 + Math.random() * 0.3;\r\n      this.brightness = 0.15 + Math.random() * 0.2;\r\n      this.type = \"dim\";\r\n    }\r\n\r\n    const temp = Math.random();\r\n    if (temp > 0.9) {\r\n      this.color = { r: 200, g: 215, b: 235 };\r\n    } else if (temp > 0.1) {\r\n      this.color = { r: 235, g: 235, b: 240 };\r\n    } else {\r\n      this.color = { r: 240, g: 230, b: 215 };\r\n    }\r\n\r\n    this.baseSpeed = this.layer === \"bg\" ? 0.008 : this.layer === \"mid\" ? 0.015 : 0.022;\r\n    this.shouldTwinkle = Math.random() > 0.8;\r\n    this.twinkleSpeed = 0.15 + Math.random() * 0.2;\r\n    this.twinkleOffset = Math.random() * Math.PI * 2;\r\n    this.twinkleAmount = 0.08;\r\n  }\r\n\r\n  resetPosition() {\r\n    const { width, height } = this.state;\r\n    this.x = Math.random() * width * 1.2 - width * 0.1;\r\n    this.y = Math.random() * height;\r\n  }\r\n\r\n  update() {\r\n    this.x += this.baseSpeed;\r\n    if (this.x > this.state.width + 20) {\r\n      this.x = -20;\r\n      this.y = Math.random() * this.state.height;\r\n    }\r\n  }\r\n\r\n  draw(ctx, currentTime) {\r\n    let alpha = this.brightness;\r\n    if (this.shouldTwinkle) {\r\n      const twinkle = Math.sin(currentTime * this.twinkleSpeed + this.twinkleOffset);\r\n      alpha = this.brightness * (1 - this.twinkleAmount + twinkle * this.twinkleAmount);\r\n    }\r\n\r\n    if (this.type === \"bright\" && this.size > 0.9) {\r\n      const glowSize = this.size * 2.5;\r\n      const gradient = ctx.createRadialGradient(\r\n        this.x, this.y, 0,\r\n        this.x, this.y, glowSize\r\n      );\r\n\r\n      gradient.addColorStop(0, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${alpha * 0.3})`);\r\n      gradient.addColorStop(0.5, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${alpha * 0.1})`);\r\n      gradient.addColorStop(1, `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 0)`);\r\n\r\n      ctx.fillStyle = gradient;\r\n      ctx.beginPath();\r\n      ctx.arc(this.x, this.y, glowSize, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    }\r\n\r\n    ctx.fillStyle = `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${alpha})`;\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n\r\n  clampToBounds() {\r\n    const { width, height } = this.state;\r\n    if (this.y > height) {\r\n      this.y = Math.random() * height;\r\n    }\r\n    if (this.x > width + 20) {\r\n      this.x = Math.random() * width;\r\n    }\r\n  }\r\n}\r\n\r\nclass DustParticle {\r\n  constructor(state) {\r\n    this.state = state;\r\n    this.size = Math.random() * 0.8;\r\n    this.opacity = Math.random() * 0.03 + 0.01;\r\n    this.speed = 0.003 + Math.random() * 0.007;\r\n\r\n    const colorVariation = Math.random();\r\n    if (colorVariation > 0.7) {\r\n      this.color = { r: 170, g: 160, b: 145 };\r\n    } else if (colorVariation > 0.4) {\r\n      this.color = { r: 140, g: 145, b: 155 };\r\n    } else {\r\n      this.color = { r: 130, g: 135, b: 145 };\r\n    }\r\n\r\n    this.resetPosition();\r\n  }\r\n\r\n  resetPosition() {\r\n    const { width, height } = this.state;\r\n    this.x = Math.random() * width * 1.2 - width * 0.1;\r\n    this.y = height * 0.2 + Math.random() * height * 0.6;\r\n  }\r\n\r\n  update() {\r\n    this.x += this.speed;\r\n    if (this.x > this.state.width + 5) {\r\n      this.x = -5;\r\n    }\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.fillStyle = `rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.opacity})`;\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  }\r\n\r\n  clampToBounds() {\r\n    const { width, height } = this.state;\r\n    if (this.y > height) {\r\n      this.y = height * 0.2 + Math.random() * height * 0.6;\r\n    }\r\n    if (this.x > width + 5) {\r\n      this.x = Math.random() * width;\r\n    }\r\n  }\r\n}\r\n\r\nfunction StarryBackground() {\r\n  const canvasRef = useRef(null);\r\n  const animationRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) {\r\n      return undefined;\r\n    }\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) {\r\n      return undefined;\r\n    }\r\n\r\n    const state = { width: 0, height: 0 };\r\n    const setCanvasSize = () => {\r\n      state.width = window.innerWidth;\r\n      state.height = window.innerHeight;\r\n      canvas.width = state.width;\r\n      canvas.height = state.height;\r\n    };\r\n\r\n    setCanvasSize();\r\n\r\n    const backgroundStars = Array.from({ length: BACKGROUND_STAR_COUNT }, () => new Star(\"bg\", state));\r\n    const midgroundStars = Array.from({ length: MIDGROUND_STAR_COUNT }, () => new Star(\"mid\", state));\r\n    const foregroundStars = Array.from({ length: FOREGROUND_STAR_COUNT }, () => new Star(\"fg\", state));\r\n    const dustParticles = Array.from({ length: DUST_PARTICLE_COUNT }, () => new DustParticle(state));\r\n\r\n    let time = 0;\r\n\r\n    const renderFrame = () => {\r\n      time += 0.005;\r\n      ctx.clearRect(0, 0, state.width, state.height);\r\n      drawSkyGradient(ctx, state.width, state.height);\r\n      drawMilkyWayPatches(ctx, state.width, state.height);\r\n\r\n      dustParticles.forEach((particle) => {\r\n        particle.update();\r\n        particle.draw(ctx);\r\n      });\r\n\r\n      backgroundStars.forEach((star) => {\r\n        star.update();\r\n        star.draw(ctx, time);\r\n      });\r\n\r\n      midgroundStars.forEach((star) => {\r\n        star.update();\r\n        star.draw(ctx, time);\r\n      });\r\n\r\n      foregroundStars.forEach((star) => {\r\n        star.update();\r\n        star.draw(ctx, time);\r\n      });\r\n\r\n      animationRef.current = requestAnimationFrame(renderFrame);\r\n    };\r\n\r\n    animationRef.current = requestAnimationFrame(renderFrame);\r\n\r\n    const handleResize = () => {\r\n      setCanvasSize();\r\n      [...backgroundStars, ...midgroundStars, ...foregroundStars].forEach((star) => {\r\n        star.clampToBounds();\r\n      });\r\n      dustParticles.forEach((particle) => {\r\n        particle.clampToBounds();\r\n      });\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n        animationRef.current = null;\r\n      }\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"starry-background\" aria-hidden=\"true\">\r\n      <canvas ref={canvasRef} id=\"stars\" className=\"starry-canvas\" />\r\n      {/* Placeholder for your tree PNG - replace src with your image */}\r\n      {/* <img id=\"trees\" className=\"starry-trees\" src=\"your-tree-silhouette.png\" alt=\"Trees\" /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Firebase (modular SDK) with graceful fallback to window.firebase ---\r\nlet initializeApp, getDatabase, ref, set, get, remove, onValue;\r\ntry {\r\n  ({ initializeApp } = await import(\"firebase/app\"));\r\n  ({ getDatabase, ref, set, get, remove, onValue } = await import(\"firebase/database\"));\r\n} catch {\r\n  initializeApp = window?.firebase?.initializeApp;\r\n  getDatabase = window?.firebaseDatabase?.getDatabase;\r\n  ({ ref, set, get, remove, onValue } = window?.firebaseDatabase ?? {});\r\n}\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC8lRd_rq5WWly4nE1-fVWNmDHWW9UVgx8\",\r\n  authDomain: \"js-castle.firebaseapp.com\",\r\n  databaseURL: \"https://js-castle-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"js-castle\",\r\n  storageBucket: \"js-castle.firebasestorage.app\",\r\n  messagingSenderId: \"270553123263\",\r\n  appId: \"1:270553123263:web:7c16052915360a21a6f90a\",\r\n  measurementId: \"G-TCGW4B73F5\",\r\n};\r\n\r\nlet app, database;\r\ntry {\r\n  if (!initializeApp) throw new Error(\"Firebase SDK not found\");\r\n  app = initializeApp(firebaseConfig);\r\n  database = getDatabase(app);\r\n} catch (e) {\r\n  console.error(\"Firebase init error:\", e);\r\n}\r\n\r\nexport default function Journal() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [firebaseError, setFirebaseError] = useState(!database);\r\n  const [authenticated, setAuthenticated] = useState(false);\r\n  const [passkey, setPasskey] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [keyExists, setKeyExists] = useState(null);\r\n\r\n  const [entries, setEntries] = useState([]);\r\n  const [expanded, setExpanded] = useState({});\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [draft, setDraft] = useState({ title: \"\", subtitle: \"\", content: \"\", type: \"memory-post\" });\r\n\r\n  // Search, Sort, and Filter states\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [sortBy, setSortBy] = useState(\"newest\");\r\n  const [filterEmotion, setFilterEmotion] = useState(\"all\");\r\n\r\n  useEffect(() => {\r\n    if (!database) {\r\n      setFirebaseError(true);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    const isAuth = sessionStorage.getItem(\"blogAuthenticated\") === \"true\";\r\n    if (isAuth) {\r\n      setAuthenticated(true);\r\n      wireEntries();\r\n    } else {\r\n      checkKeyExists();\r\n    }\r\n  }, []);\r\n\r\n  const checkKeyExists = async () => {\r\n    try {\r\n      const passkeyRef = ref(database, \"settings/passkey\");\r\n      const snap = await get(passkeyRef);\r\n      setKeyExists(snap.exists());\r\n      setLoading(false);\r\n    } catch (e) {\r\n      console.error(\"Error checking key:\", e);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const wireEntries = () => {\r\n    const entriesRef = ref(database, \"entries\");\r\n    onValue(\r\n      entriesRef,\r\n      (snap) => {\r\n        if (!snap.exists()) {\r\n          setEntries([]);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        const data = snap.val();\r\n        const list = Object.entries(data)\r\n          .map(([id, v]) => ({ id, ...v }))\r\n          .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n        setEntries(list);\r\n        setLoading(false);\r\n      },\r\n      () => {\r\n        setEntries([]);\r\n        setLoading(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleAuth = async () => {\r\n    setError(\"\");\r\n    if (!database) {\r\n      setError(\"Firebase not configured.\");\r\n      return;\r\n    }\r\n    if (!passkey.trim()) {\r\n      setError(\"Please enter a passkey.\");\r\n      return;\r\n    }\r\n    try {\r\n      const passkeyRef = ref(database, \"settings/passkey\");\r\n      const snap = await get(passkeyRef);\r\n\r\n      if (!snap.exists()) {\r\n        // No key exists, store whatever user entered as the permanent key\r\n        await set(passkeyRef, passkey);\r\n        setAuthenticated(true);\r\n        sessionStorage.setItem(\"blogAuthenticated\", \"true\");\r\n        wireEntries();\r\n      } else {\r\n        // Key exists, verify it matches\r\n        const serverKey = snap.val();\r\n        if (passkey === serverKey) {\r\n          setAuthenticated(true);\r\n          sessionStorage.setItem(\"blogAuthenticated\", \"true\");\r\n          wireEntries();\r\n        } else {\r\n          setError(\"Invalid passkey. Try again.\");\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Auth error:\", e);\r\n      setError(\"Authentication failed. Try again.\");\r\n    }\r\n  };\r\n\r\n  const saveEntry = async () => {\r\n    if (!draft.title || !draft.content) {\r\n      setError(\"Title and content are required.\");\r\n      return;\r\n    }\r\n    if (!database) {\r\n      setError(\"Firebase not configured.\");\r\n      return;\r\n    }\r\n    try {\r\n      const id = editing?.id || Date.now().toString();\r\n      const payload = {\r\n        title: draft.title,\r\n        subtitle: draft.subtitle,\r\n        content: draft.content,\r\n        type: draft.type,\r\n        timestamp: editing?.timestamp || new Date().toISOString(),\r\n        updatedAt: new Date().toISOString(),\r\n      };\r\n      await set(ref(database, `entries/${id}`), payload);\r\n      setDraft({ title: \"\", subtitle: \"\", content: \"\", type: \"memory-post\" });\r\n      setEditing(null);\r\n      setShowForm(false);\r\n      setError(\"\");\r\n    } catch (e) {\r\n      console.error(\"Save error:\", e);\r\n      setError(\"Failed to save entry.\");\r\n    }\r\n  };\r\n\r\n  const deleteEntry = async (id) => {\r\n    if (!window.confirm(\"Delete this entry?\")) return;\r\n    if (!database) {\r\n      setError(\"Firebase not configured.\");\r\n      return;\r\n    }\r\n    try {\r\n      await remove(ref(database, `entries/${id}`));\r\n    } catch (e) {\r\n      console.error(\"Delete error:\", e);\r\n      setError(\"Failed to delete entry.\");\r\n    }\r\n  };\r\n\r\n  const startEdit = (entry) => {\r\n    setEditing(entry);\r\n    setDraft({ title: entry.title, subtitle: entry.subtitle, content: entry.content, type: entry.type });\r\n    setShowForm(true);\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  const toggleExpand = (id) => setExpanded((p) => ({ ...p, [id]: !p[id] }));\r\n\r\n  const truncate = (txt) => {\r\n    const lines = txt.split(\"\\n\").slice(0, 4).join(\"\\n\");\r\n    return lines.length < txt.length ? `${lines}…` : lines;\r\n  };\r\n\r\n  const filteredEntries = useMemo(() => {\r\n    let result = [...entries];\r\n\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(\r\n        (e) =>\r\n          e.title.toLowerCase().includes(query) ||\r\n          e.subtitle?.toLowerCase().includes(query) ||\r\n          e.content.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    if (filterEmotion !== \"all\") {\r\n      result = result.filter((e) => e.type === filterEmotion);\r\n    }\r\n\r\n    switch (sortBy) {\r\n      case \"newest\":\r\n        result.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n        break;\r\n      case \"oldest\":\r\n        result.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));\r\n        break;\r\n      case \"title\":\r\n        result.sort((a, b) => a.title.localeCompare(b.title));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return result;\r\n  }, [entries, searchQuery, sortBy, filterEmotion]);\r\n\r\n  const logout = () => {\r\n    setAuthenticated(false);\r\n    sessionStorage.removeItem(\"blogAuthenticated\");\r\n    setPasskey(\"\");\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const goBack = () => (window.history.length > 1 ? navigate(-1) : navigate(\"/\"));\r\n  const goHome = () => navigate(\"/\");\r\n\r\n  if (firebaseError) {\r\n    return (\r\n      <main className=\"journal-page\">\r\n        <StarryBackground />\r\n        <button className=\"journal-back\" onClick={goBack} type=\"button\" aria-label=\"Go back\">\r\n          <ArrowLeft size={20} />\r\n        </button>\r\n        <div className=\"container center\">\r\n          <div className=\"notice\">\r\n            <h2>Firebase Not Configured</h2>\r\n            <p>Install the SDK and configure your environment variables.</p>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <main className=\"journal-page\">\r\n        <StarryBackground />\r\n        <button className=\"journal-back\" onClick={goBack} type=\"button\" aria-label=\"Go back\">\r\n          <ArrowLeft size={20} />\r\n        </button>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  if (!authenticated) {\r\n    return (\r\n      <main className=\"journal-page\">\r\n        <StarryBackground />\r\n        <button className=\"journal-back\" onClick={goBack} type=\"button\" aria-label=\"Go back\">\r\n          <ArrowLeft size={20} />\r\n        </button>\r\n\r\n        <div className=\"container center\">\r\n          <div className=\"gate\">\r\n            <div className=\"gate-icon\">\r\n              <Lock />\r\n            </div>\r\n            <h1 className=\"title\">Late Night Thoughts</h1>\r\n            <p className=\"subtitle\">enter passkey to continue</p>\r\n\r\n            {keyExists === false && (\r\n              <div className=\"welcome-message\">\r\n                <p>\r\n                  Welcome, Jaitika. This is your sacred space. Choose a passkey that only you will know, it becomes your permanent key. We won't see it, no one else can access it. This sanctuary is entirely yours. Create something meaningful.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <input\r\n              type=\"password\"\r\n              value={passkey}\r\n              onChange={(e) => setPasskey(e.target.value)}\r\n              onKeyDown={(e) => e.key === \"Enter\" && handleAuth()}\r\n              placeholder={keyExists === false ? \"Create your passkey\" : \"Enter passkey\"}\r\n              className=\"input\"\r\n            />\r\n            {error && <p className=\"error\">{error}</p>}\r\n\r\n            <button className=\"btn primary\" onClick={handleAuth}>\r\n              {keyExists === false ? \"Set Passkey\" : \"Access Journal\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"journal-page\">\r\n      <StarryBackground />\r\n      <button className=\"journal-back\" onClick={goBack} type=\"button\" aria-label=\"Go back\">\r\n        <ArrowLeft size={20} />\r\n      </button>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"topbar\">\r\n          <div className=\"brand\">LNT</div>\r\n          <div className=\"topbar-actions\">\r\n            <button className=\"btn ghost\" onClick={goHome} title=\"Back to Home\">\r\n              ← Home\r\n            </button>\r\n            <button className=\"logout\" onClick={logout} title=\"Logout\">\r\n              <LogOut />\r\n              <span>Logout</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <header className=\"hero\">\r\n          <h1>Late Night Thoughts</h1>\r\n          <p className=\"tagline\">where vulnerability lives and hearts speak</p>\r\n          <p className=\"lede\">\r\n            This is where I write at 2 AM when the world is quiet and my heart is too loud. Unfiltered pieces of me, \r\n            the breakdowns, the breakthroughs, the tiny pivots that change everything.\r\n          </p>\r\n        </header>\r\n\r\n        <div className=\"composer-wrap\">\r\n          <div className=\"card composer\">\r\n            <button\r\n              className=\"btn primary new-btn\"\r\n              onClick={() => {\r\n                setShowForm((v) => !v);\r\n                if (showForm) {\r\n                  setEditing(null);\r\n                  setDraft({ title: \"\", subtitle: \"\", content: \"\", type: \"memory-post\" });\r\n                  setError(\"\");\r\n                }\r\n              }}\r\n            >\r\n              <Plus />\r\n              <span>{showForm ? \"Cancel Entry\" : \"Create a New Entry\"}</span>\r\n            </button>\r\n\r\n            {showForm && (\r\n              <div className=\"form-content\">\r\n                <h3>{editing ? \"Edit Entry\" : \"New Entry Details\"}</h3>\r\n                <input\r\n                  className=\"input title-input\"\r\n                  placeholder=\"Entry Title\"\r\n                  value={draft.title}\r\n                  onChange={(e) => setDraft({ ...draft, title: e.target.value })}\r\n                />\r\n                <input\r\n                  className=\"input\"\r\n                  placeholder=\"Subtitle (optional)\"\r\n                  value={draft.subtitle}\r\n                  onChange={(e) => setDraft({ ...draft, subtitle: e.target.value })}\r\n                />\r\n                <select\r\n                  className=\"input\"\r\n                  value={draft.type}\r\n                  onChange={(e) => setDraft({ ...draft, type: e.target.value })}\r\n                >\r\n                  <option value=\"memory-post\">Memory (Pink)</option>\r\n                  <option value=\"philosophy-post\">Philosophy (Teal)</option>\r\n                  <option value=\"freedom-post\">Freedom (Gold)</option>\r\n                </select>\r\n                <textarea\r\n                  className=\"input area\"\r\n                  rows={12}\r\n                  placeholder=\"Write your thoughts…\"\r\n                  value={draft.content}\r\n                  onChange={(e) => setDraft({ ...draft, content: e.target.value })}\r\n                />\r\n                {error && <p className=\"error\">{error}</p>}\r\n                <div className=\"row\">\r\n                  <button className=\"btn primary\" onClick={saveEntry}>\r\n                    {editing ? \"Update Entry\" : \"Publish Entry\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"controls-wrap\">\r\n          <div className=\"card controls\">\r\n            <div className=\"search-box\">\r\n              <Search className=\"search-icon\" />\r\n              <input\r\n                type=\"text\"\r\n                className=\"input search-input\"\r\n                placeholder=\"Search entries by title, subtitle, or content...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"filters-row\">\r\n              <div className=\"filter-group\">\r\n                <SlidersHorizontal className=\"filter-icon\" />\r\n                <select\r\n                  className=\"input select-input\"\r\n                  value={sortBy}\r\n                  onChange={(e) => setSortBy(e.target.value)}\r\n                >\r\n                  <option value=\"newest\">Sort: Newest First</option>\r\n                  <option value=\"oldest\">Sort: Oldest First</option>\r\n                  <option value=\"title\">Sort: By Title (A-Z)</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n                <select\r\n                  className=\"input select-input\"\r\n                  value={filterEmotion}\r\n                  onChange={(e) => setFilterEmotion(e.target.value)}\r\n                >\r\n                  <option value=\"all\">Filter: All Emotions</option>\r\n                  <option value=\"memory-post\">Filter: Memories</option>\r\n                  <option value=\"philosophy-post\">Filter: Philosophy</option>\r\n                  <option value=\"freedom-post\">Filter: Freedom</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {(searchQuery || filterEmotion !== \"all\") && (\r\n              <div className=\"results-count\">\r\n                Showing {filteredEntries.length} of {entries.length} entries\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stack\">\r\n          {filteredEntries.length === 0 ? (\r\n            <div className=\"empty\">\r\n              {searchQuery || filterEmotion !== \"all\" \r\n                ? \"No entries match your search or filter criteria...\"\r\n                : \"No entries yet. Start writing your thoughts…\"}\r\n            </div>\r\n          ) : (\r\n            filteredEntries.map((entry) => {\r\n              const isOpen = !!expanded[entry.id];\r\n              const accent =\r\n                entry.type === \"memory-post\" ? \"accent-pink\" : entry.type === \"philosophy-post\" ? \"accent-teal\" : \"accent-gold\";\r\n              return (\r\n                <article key={entry.id} className={`card entry ${accent}`}>\r\n                  <div className=\"entry-head\">\r\n                    <div className=\"entry-titles\">\r\n                      <h2>{entry.title}</h2>\r\n                      {entry.subtitle && (\r\n                        <p className=\"muted\">\r\n                          <span aria-hidden>🌙</span> {entry.subtitle}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"entry-actions\">\r\n                      <button className=\"icon-btn\" title=\"Edit\" onClick={() => startEdit(entry)}>\r\n                        <Edit2 />\r\n                      </button>\r\n                      <button className=\"icon-btn\" title=\"Delete\" onClick={() => deleteEntry(entry.id)}>\r\n                        <Trash2 />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className={`entry-body ${isOpen ? \"open\" : \"\"}`}>\r\n                    <pre className=\"content\">{isOpen ? entry.content : truncate(entry.content)}</pre>\r\n                  </div>\r\n\r\n                  {isOpen && (\r\n                    <ReflectionPanel\r\n                      entryId={entry.id}\r\n                      entryContent={entry.content}\r\n                    />\r\n                  )}\r\n\r\n                  <button className=\"readmore\" onClick={() => toggleExpand(entry.id)}>\r\n                    {isOpen ? (\r\n                      <>\r\n                        <ChevronUp /> Collapse\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <ChevronDown /> Read More\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </article>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n"],"names":["Search","createLucideIcon","d","key","cx","cy","r","Plus","ChevronDown","HeartHandshake","RefreshCcw","GROQ_ENDPOINT","JOURNAL_PROMPT","trim","ReflectionPanel","_ref","entryId","entryContent","reflection","setReflection","useState","loading","setLoading","error","setError","isMountedRef","useRef","useEffect","current","loadReflection","useCallback","async","nextReflection","entryText","_data$choices","_data$choices$","_data$choices$$messag","_data$choices$$messag2","apiKey","process","Error","response","fetch","method","headers","Authorization","concat","body","JSON","stringify","model","temperature","top_p","max_tokens","messages","role","content","ok","_errorPayload$error","errorPayload","json","catch","detail","message","statusText","data","choices","fetchReflection","err","_jsxs","className","children","_jsx","size","type","onClick","disabled","ArrowLeft","LogOut","ChevronUp","Lock","width","height","x","y","rx","ry","SlidersHorizontal","Trash2","BACKGROUND_STAR_COUNT","MIDGROUND_STAR_COUNT","FOREGROUND_STAR_COUNT","DUST_PARTICLE_COUNT","drawSkyGradient","ctx","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","drawMilkyWayPatches","intensity","forEach","patch","createRadialGradient","w","h","cloud","Math","max","Star","constructor","layer","state","this","assignAppearance","resetPosition","rand","random","brightness","temp","color","g","b","baseSpeed","shouldTwinkle","twinkleSpeed","twinkleOffset","PI","twinkleAmount","update","draw","currentTime","alpha","twinkle","sin","glowSize","beginPath","arc","fill","clampToBounds","DustParticle","opacity","speed","colorVariation","StarryBackground","canvasRef","animationRef","canvas","getContext","setCanvasSize","window","innerWidth","innerHeight","backgroundStars","Array","from","length","midgroundStars","foregroundStars","dustParticles","time","renderFrame","clearRect","particle","star","requestAnimationFrame","handleResize","addEventListener","cancelAnimationFrame","removeEventListener","ref","id","initializeApp","getDatabase","set","get","remove","onValue","_unused","_window","_window$firebase","_window2","_window2$firebaseData","_window$firebaseDatab","_window3","firebase","firebaseDatabase","firebaseConfig","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","app","database","e","console","Journal","firebaseError","setFirebaseError","authenticated","setAuthenticated","passkey","setPasskey","keyExists","setKeyExists","entries","setEntries","expanded","setExpanded","showForm","setShowForm","editing","setEditing","draft","setDraft","title","subtitle","searchQuery","setSearchQuery","sortBy","setSortBy","filterEmotion","setFilterEmotion","sessionStorage","getItem","wireEntries","checkKeyExists","passkeyRef","snap","exists","entriesRef","val","list","Object","map","v","_objectSpread","sort","a","Date","timestamp","handleAuth","serverKey","setItem","truncate","txt","lines","split","slice","join","filteredEntries","useMemo","result","query","toLowerCase","filter","_e$subtitle","includes","localeCompare","navigate","useNavigate","goBack","history","goHome","logout","removeItem","placeholder","value","onChange","target","rows","now","toString","payload","toISOString","updatedAt","entry","isOpen","accent","scrollTo","top","behavior","startEdit","Edit2","confirm","deleteEntry","toggleExpand","p","_Fragment","onKeyDown","Pen"],"sourceRoot":""}